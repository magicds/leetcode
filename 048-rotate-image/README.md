---
date: [2020-12-19 11:21:57]
---

# [48. 旋转图像](https://leetcode-cn.com/problems/rotate-image/)

给定一个 `n × n` 的二维矩阵表示一个图像。

将图像顺时针旋转 90 度。

说明：

你必须在原地旋转图像，这意味着你需要直接修改输入的二维矩阵。请不要使用另一个矩阵来旋转图像。

示例 1:

```
给定 matrix =
[
  [1,2,3],
  [4,5,6],
  [7,8,9]
],

原地旋转输入矩阵，使其变为:
[
  [7,4,1],
  [8,5,2],
  [9,6,3]
]
```

示例 2:

```
给定 matrix =
[
  [ 5, 1, 9,11],
  [ 2, 4, 8,10],
  [13, 3, 6, 7],
  [15,14,12,16]
],

原地旋转输入矩阵，使其变为:

[
  [15,13, 2, 5],
  [14, 3, 4, 1],
  [12, 6, 8, 9],
  [16, 7,10,11]
]
```

## 解决方案1

矩阵有个转置运算，这个操作可以对矩阵遍历一次即可完成。转置的结果呢，实际是上将居中以对角线进行了镜像，此处需要顺时针旋转九十度，那么只用将对角线镜像的结果再进行一次水平镜像即可。

即：

```
[
  [1, 2, 3],
  [4, 5, 6],
  [7, 8, 9]
]
```

转置

```
[
  [1, 4, 7],
  [2, 5, 8],
  [3, 6, 9]
]
```

再水平镜像：

```
[
  [7, 4, 1],
  [8, 5, 2],
  [7, 6, 3]
]
```

目标达成。

代码：

```js
/**
 * @param {number[][]} matrix
 * @return {void} Do not return anything, modify matrix in-place instead.
 */
var rotate = function (matrix) {
  var n = matrix.length;
  var t = 0;
  // 矩阵 转置运算
  for (var i = 0; i < n; i++) {
    for (var j = i + 1; j < n; j++) {
      t = matrix[i][j];
      matrix[i][j] = matrix[j][i];
      matrix[j][i] = t;
    }
  }
  // 再水平镜像
  var len = (n / 2) >> 0;
  for (var i = 0; i < n; i++) {
    for (var j = 0; j < len; j++) {
      t = matrix[i][j];
      matrix[i][j] = matrix[i][n - 1 - j];
      matrix[i][n - 1 - j] = t;
    }
  }
};
```
